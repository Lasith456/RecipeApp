(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2598:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(5155),a=r(2619),o=r.n(a),l=r(63),n=r(2907);function i(){let{user:e,logout:t,loading:r}=(0,n.A)(),a=(0,l.usePathname)();return(0,s.jsx)("header",{className:"bg-white/80 backdrop-blur-sm sticky top-0 z-40 shadow-sm",children:(0,s.jsxs)("nav",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,s.jsxs)(o(),{href:"/",className:"text-2xl font-bold text-gray-800",children:["Recipe",(0,s.jsx)("span",{className:"text-pink-500",children:"App"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,s.jsx)(o(),{href:"/",className:"font-semibold ".concat("/"===a?"text-pink-500":"text-gray-600 hover:text-pink-500"),children:"Home"}),e&&(0,s.jsx)(o(),{href:"/favorites",className:"font-semibold ".concat("/favorites"===a?"text-pink-500":"text-gray-600 hover:text-pink-500"),children:"Favorites"}),!r&&(e?(0,s.jsx)("button",{onClick:t,className:"bg-pink-500 text-white px-4 py-2 rounded-full font-semibold hover:bg-pink-600 transition-colors text-sm",children:"Logout"}):(0,s.jsx)(o(),{href:"/login",className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-full font-semibold hover:bg-gray-300 transition-colors text-sm",children:"Login"}))]})]})})}},2907:(e,t,r)=>{"use strict";r.d(t,{A:()=>i,AuthProvider:()=>n});var s=r(5155),a=r(2115),o=r(5490);let l=(0,a.createContext)(),n=e=>{let{children:t}=e,[r,n]=(0,a.useState)(null),[i,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let{data:e}=await o.A.get("/auth/check-auth");e.success&&n(e.user)}catch(e){n(null)}finally{c(!1)}})()},[]);let u=async e=>{try{let{data:t}=await o.A.post("/auth/signup",e);return t}catch(e){var t,r;throw Error((null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Signup failed")}},h=async e=>{try{let{data:t}=await o.A.post("/auth/login",e);return t.success&&n(t.user),t}catch(e){throw e}},d=async()=>{try{await o.A.post("/auth/logout"),n(null)}catch(e){console.error("Logout failed:",e)}},p=async e=>{try{return await o.A.post("/auth/verify-email",e)}catch(e){var t,r;throw Error((null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Verification failed")}},f=async e=>{try{return await o.A.post("/auth/forget-password",e)}catch(e){var t,r;throw Error((null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Request failed")}},m=async e=>{let{token:t,password:r}=e;try{return await o.A.post("/auth/reset-password/".concat(t),{password:r})}catch(e){var s,a;throw Error((null==(a=e.response)||null==(s=a.data)?void 0:s.message)||"Password reset failed")}},v=async e=>{try{let{data:t}=await o.A.post("/user/favorites",e);t.success&&n(e=>({...e,favorites:t.favorites}))}catch(e){console.error("Failed to add favorite:",e)}},y=async e=>{try{let{data:t}=await o.A.delete("/user/favorites/".concat(e));t.success&&n(e=>({...e,favorites:t.favorites}))}catch(e){console.error("Failed to remove favorite:",e)}};return(0,s.jsx)(l.Provider,{value:{user:r,setUser:n,loading:i,signup:u,login:h,logout:d,verifyEmail:p,forgotPassword:f,resetPassword:m,addFavorite:v,removeFavorite:y},children:t})},i=()=>(0,a.useContext)(l)},3673:()=>{},5490:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=r(5125).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0})},8252:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9125,23)),Promise.resolve().then(r.t.bind(r,3673,23)),Promise.resolve().then(r.bind(r,2598)),Promise.resolve().then(r.bind(r,2907))},9125:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}}},e=>{e.O(0,[550,125,176,441,255,358],()=>e(e.s=8252)),_N_E=e.O()}]);