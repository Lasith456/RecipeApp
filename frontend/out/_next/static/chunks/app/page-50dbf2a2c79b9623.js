(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{473:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),r=s(2115),l=s(1733),i=s(1408),c=s(5851),n=s(3646),o=s(5490);function d(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)("Seafood"),[u,h]=(0,r.useState)([]),[x,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),[y,f]=(0,r.useState)(""),[v,w]=(0,r.useState)([]),[j,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let{data:e}=await o.A.get("/recipes/categories");e.success&&t(e.categories.slice(0,5))}catch(e){console.error("Failed to fetch categories:",e)}})()},[]),(0,r.useEffect)(()=>{(async()=>{if(s&&!j){p(!0);try{let{data:e}=await o.A.get("/recipes/category/".concat(s));e.success&&h(e.recipes||[])}catch(e){console.error("Failed to fetch recipes:",e)}finally{p(!1)}}})()},[s,j]);let N=async e=>{if(e.preventDefault(),y.trim()){p(!0),b(!0);try{let{data:e}=await o.A.get("/recipes/search/".concat(y));e.success&&w(e.recipes||[])}catch(e){console.error("Failed to search recipes:",e),w([])}finally{p(!1)}}},k=j?v:u;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 text-gray-800",children:[(0,a.jsxs)("header",{className:"text-center py-12 px-4",children:[(0,a.jsxs)(l.P.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-gray-900",children:["When you are ",(0,a.jsx)("span",{className:"text-pink-500",children:"Home Alone"})," and Hungry?"]}),(0,a.jsx)(l.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:"Enter ingredients, dietary preferences, or cravings, and get personalized recipes instantly!"}),(0,a.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8 max-w-lg mx-auto",children:(0,a.jsxs)("form",{onSubmit:N,className:"flex items-center bg-white rounded-full shadow-md p-2",children:[(0,a.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),placeholder:"Search for a recipe...",className:"flex-grow bg-transparent px-4 text-gray-700 focus:outline-none"}),(0,a.jsx)("button",{type:"submit",className:"bg-pink-500 text-white rounded-full p-3 hover:bg-pink-600 transition-colors",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})})]}),(0,a.jsxs)("main",{className:"container mx-auto px-4 pb-12",children:[j?(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-3xl font-bold text-gray-800",children:['Search Results for "',y,'"']}),(0,a.jsx)("button",{onClick:()=>{b(!1),f(""),w([])},className:"text-pink-500 font-semibold hover:underline",children:"Clear Search"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex justify-center flex-wrap gap-3 md:gap-4 mb-12 px-4",children:e.map(e=>(0,a.jsx)("button",{onClick:()=>d(e.strCategory),className:"px-4 py-2 text-sm md:text-base font-semibold rounded-full transition-all duration-300 ".concat(s===e.strCategory?"bg-pink-500 text-white shadow-lg":"bg-white text-gray-700 hover:bg-pink-100"),children:e.strCategory},e.idCategory))}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Famous Recipes"})]}),(0,a.jsx)(i.N,{children:x?(0,a.jsx)(l.P.div,{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-pink-500 border-dashed rounded-full animate-spin"})},"loader"):(0,a.jsx)(l.P.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8",children:k.length>0?k.map(e=>(0,a.jsx)(c.A,{recipe:e,onClick:()=>g(e.idMeal)},e.idMeal)):(0,a.jsx)("p",{className:"col-span-full text-center text-gray-500",children:"No recipes found."})})})]})]}),(0,a.jsx)(i.N,{children:m&&(0,a.jsx)(n.A,{recipeId:m,onClose:()=>g(null)},m)})]})}},1142:(e,t,s)=>{Promise.resolve().then(s.bind(s,473))},2907:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,AuthProvider:()=>c});var a=s(5155),r=s(2115),l=s(5490);let i=(0,r.createContext)(),c=e=>{let{children:t}=e,[s,c]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let{data:e}=await l.A.get("/auth/check-auth");e.success&&c(e.user)}catch(e){c(null)}finally{o(!1)}})()},[]);let d=async e=>{try{let{data:t}=await l.A.post("/auth/signup",e);return t}catch(e){var t,s;throw Error((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||"Signup failed")}},u=async e=>{try{let{data:t}=await l.A.post("/auth/login",e);return t.success&&c(t.user),t}catch(e){throw e}},h=async()=>{try{await l.A.post("/auth/logout"),c(null)}catch(e){console.error("Logout failed:",e)}},x=async e=>{try{return await l.A.post("/auth/verify-email",e)}catch(e){var t,s;throw Error((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||"Verification failed")}},p=async e=>{try{return await l.A.post("/auth/forget-password",e)}catch(e){var t,s;throw Error((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||"Request failed")}},m=async e=>{let{token:t,password:s}=e;try{return await l.A.post("/auth/reset-password/".concat(t),{password:s})}catch(e){var a,r;throw Error((null==(r=e.response)||null==(a=r.data)?void 0:a.message)||"Password reset failed")}},g=async e=>{try{let{data:t}=await l.A.post("/user/favorites",e);t.success&&c(e=>({...e,favorites:t.favorites}))}catch(e){console.error("Failed to add favorite:",e)}},y=async e=>{try{let{data:t}=await l.A.delete("/user/favorites/".concat(e));t.success&&c(e=>({...e,favorites:t.favorites}))}catch(e){console.error("Failed to remove favorite:",e)}};return(0,a.jsx)(i.Provider,{value:{user:s,setUser:c,loading:n,signup:d,login:u,logout:h,verifyEmail:x,forgotPassword:p,resetPassword:m,addFavorite:g,removeFavorite:y},children:t})},n=()=>(0,r.useContext)(i)},3646:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var a=s(5155),r=s(2115),l=s(1733),i=s(2907),c=s(63),n=s(5490),o=s(5239);let d=e=>{let{className:t="w-6 h-6"}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:t,children:(0,a.jsx)("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-1.383-.597 15.218 15.218 0 0 1-2.203-1.33c-.326-.22-.652-.451-.973-.682A5.005 5.005 0 0 1 6 15a5.005 5.005 0 0 1-2.5-4.243V9.752a5.25 5.25 0 0 1 3.25-4.941c1.453-.498 3.043.226 4.25 1.364a5.25 5.25 0 0 1 4.25-1.364c1.453.498 3.043 1.226 3.25 4.941V10.757a5.005 5.005 0 0 1-2.5 4.243c-.321.231-.647.462-.973.682a15.218 15.218 0 0 1-2.203 1.33 15.247 15.247 0 0 1-1.383.597l-.022.012-.007.003Z"})})},u=e=>{let{className:t="w-6 h-6"}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})};function h(e){var t;let{recipeId:s,onClose:h}=e,[x,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(!0),{user:y,addFavorite:f,removeFavorite:v}=(0,i.A)(),w=(0,c.useRouter)();(0,r.useEffect)(()=>{(async()=>{g(!0);try{let{data:e}=await n.A.get("/recipes/details/".concat(s));e.success&&p(e.recipe)}catch(e){console.error("Failed to fetch recipe details:",e)}finally{g(!1)}})()},[s]);let j=null==y||null==(t=y.favorites)?void 0:t.some(e=>e.idMeal===s),b=async()=>{if(!y)return void w.push("/login");if(j)await v(s);else{let e={idMeal:x.idMeal,strMeal:x.strMeal,strMealThumb:x.strMealThumb};await f(e)}},N=x?Object.keys(x).filter(e=>e.startsWith("strIngredient")&&x[e]).map(e=>"".concat(x[e]," - ").concat(x["strMeasure".concat(e.slice(13))])):[];return(0,a.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center p-4",onClick:h,children:(0,a.jsx)(l.P.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},transition:{type:"spring",damping:20,stiffness:200},className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:m?(0,a.jsx)("div",{className:"h-96 flex justify-center items-center",children:(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-pink-500 border-dashed rounded-full animate-spin"})}):x&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.default,{src:x.strMealThumb,alt:x.strMeal,width:800,height:800,className:"w-full h-64 object-cover rounded-t-2xl",unoptimized:!0}),(0,a.jsx)("button",{onClick:h,className:"absolute top-4 right-4 bg-white/70 rounded-full p-2 text-gray-800 hover:bg-white transition-colors",children:(0,a.jsx)(u,{className:"w-6 h-6"})})]}),(0,a.jsxs)("div",{className:"p-6 md:p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:x.strMeal}),(0,a.jsx)(l.P.button,{whileTap:{scale:1.2},onClick:b,className:"p-2 rounded-full transition-colors ".concat(j?"text-pink-500 bg-pink-100":"text-gray-400 bg-gray-100 hover:text-pink-500"),children:(0,a.jsx)(d,{className:"w-7 h-7"})})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[x.strCategory," | ",x.strArea]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Ingredients"}),(0,a.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 list-disc list-inside text-gray-700",children:N.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Instructions"}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-gray-700 leading-relaxed",children:x.strInstructions})]})]})]})})})}},5490:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=s(5125).A.create({baseURL:"https://recipeapp-nnyq.onrender.com/api",withCredentials:!0})},5851:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),r=s(1733),l=s(5239);function i(e){let{recipe:t,onClick:s}=e;return(0,a.jsxs)(r.P.div,{layout:!0,initial:{opacity:0,y:50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8},transition:{type:"spring",stiffness:200,damping:25},onClick:s,className:"bg-white rounded-xl overflow-hidden shadow-lg cursor-pointer group",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(l.default,{src:t.strMealThumb,alt:t.strMeal,width:500,height:500,className:"w-full h-48 object-cover transition-transform duration-300 group-hover-scale-110",unoptimized:!0})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("h3",{className:"font-bold text-lg truncate text-gray-800",children:t.strMeal})})]})}}},e=>{e.O(0,[125,733,841,441,255,358],()=>e(e.s=1142)),_N_E=e.O()}]);